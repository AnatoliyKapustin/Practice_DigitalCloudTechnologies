<Page
    x:Class="DatMailReader.View.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:common="using:DatMailReader.Helpers.Common"
    xmlns:local="using:DatMailReader.Helpers.Extensions"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    DataContext="{Binding Main, Source={StaticResource Locator}}">

    <!--<Page.Resources>
        <local:MainViewModel x:Key="MainViewModel"/>
    </Page.Resources>
    
    <Page.DataContext>
        <Binding Source="{StaticResource Locator}" />
    </Page.DataContext>-->

    <Grid Background="#FFDDE7F3">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="200"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="200"/>
        </Grid.RowDefinitions>
        <Button x:Name="openFileButton" Content="&#xe120; extract" FontFamily="Segoe UI Symbol" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Command="{Binding OpenFileCommand}" Height="115" Width="415" Background="#FF3BA3F9" BorderBrush="{x:Null}" FontSize="48" FontWeight="ExtraLight" Margin="109,45,98,43" Grid.Row="0" Grid.Column="1" UseLayoutRounding="True" />
        <TextBlock HorizontalAlignment="Left" Margin="70,10,0,0" TextWrapping="WrapWholeWords" Text="recently extracted" VerticalAlignment="Top" Foreground="#FF3BA3F9" SelectionHighlightColor="{x:Null}" FontSize="24" Grid.Row="1" Grid.ColumnSpan="2"/>
        <Button x:Name="RecentlyExtractedButton" Margin="261,5,0,5" Content="&#xe106;" FontFamily="Segoe UI Symbol" Foreground="#FF3BA3F9" BorderBrush="{x:Null}" Grid.Row="1"/>
        <TextBlock HorizontalAlignment="Left" Margin="70,10,0,0" TextWrapping="WrapWholeWords" Text="extracted attachments" VerticalAlignment="Top" Foreground="#FF3BA3F9" SelectionHighlightColor="{x:Null}" FontSize="24" Grid.ColumnSpan="2" Grid.Row="3"/>
        <Button x:Name="RecentlyExtractedAllAttButton" Margin="311,3,0,2" Content="&#xE106;" FontFamily="Segoe UI Symbol" Foreground="#FF3BA3F9" BorderBrush="{x:Null}" Grid.Row="3"/>
        <GridView x:Name="RecentlyExMails" ItemsSource="{Binding RecentlyExtractedFiles, Mode=OneWay}" SelectionMode="None" IsItemClickEnabled="True" Margin="60,10,62,13" local:ItemClickCommandExtension.Command="{Binding RecentlyOpenedMailClickCommand}" IsDoubleTapEnabled="False" IsHoldingEnabled="False" IsRightTapEnabled="False" IsTapEnabled="False" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3">
            <GridView.ItemTemplate>
                <DataTemplate>
                    <StackPanel Width="270" Height="100" Orientation="Horizontal" Background="#FF54B7FB" VerticalAlignment="Center" HorizontalAlignment="Left">
                        <TextBlock Margin="20,20,10,20" Text="{Binding DisplayName}"/>
                    </StackPanel>
                </DataTemplate>
            </GridView.ItemTemplate>
        </GridView>
        <GridView x:Name="RecentlyExFiles" ItemsSource="{Binding RecentlyExtractedAtt, Mode=OneWay}" SelectionMode="None" IsItemClickEnabled="True" Grid.Row="4" Grid.Column="0" Margin="60,23,10,0" local:ItemClickCommandExtension.Command="{Binding ExtractedItemClickCommand}" IsDoubleTapEnabled="False" IsHoldingEnabled="False" IsRightTapEnabled="False" Height="Auto" Width="Auto" Grid.ColumnSpan="3">
            <GridView.ItemTemplate>
                <DataTemplate>
                    <StackPanel Width="270" Height="100" Orientation="Vertical" Background="#FF54B7FB">
                        <TextBlock Padding="120,10,10,10" VerticalAlignment="Top" TextWrapping="Wrap" Text="{Binding DisplayName}"/>
                        <TextBlock Padding="120,0,10,10" VerticalAlignment="Bottom" TextWrapping="Wrap" Text="{Binding From}"/>
                    </StackPanel>
                </DataTemplate>
            </GridView.ItemTemplate>
        </GridView>
    </Grid>
</Page>
